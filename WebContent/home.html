<!DOCTYPE HTML>
<html>
<head>
<title>Online Shopping Website</title>
<link href="assets/css/bootstrap.css" rel='stylesheet' type='text/css' />
<!-- jQuery (necessary JavaScript plugins) -->
<script type='text/javascript' src="assets/js/jquery-1.11.1.min.js"></script>
<!-- Custom Theme files -->
<link href="assets/css/style.css" rel='stylesheet' type='text/css' />
<!-- Custom Theme files -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!--webfont-->
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<!-- start menu -->
<link href="assets/css/megamenu.css" rel="stylesheet" type="text/css" media="all" />
<script type="text/javascript" src="assets/js/megamenu.js"></script>
<script>$(document).ready(function(){$(".megamenu").megamenu();});</script>
<!-- start slider -->
<link rel="stylesheet" href="assets/css/fwslider.css" media="all">
<script src="assets/js/jquery-ui.min.js"></script>
<script src="assets/js/fwslider.js"></script>
<script src="assets/js/menu_jquery.js"></script>

<script type="text/javascript">

var queryString = window.location.search;
queryString = queryString.substring(1);
queries = queryString.split("&");
firstName = ((queries[0].split("="))[1]).split("%22")[1];
lastLoginDate = ((((queries[1].split("="))[1]).split("%22")[1]).split("%20"))[0];
lastLoginTime = (((queries[1].split("="))[1]).split("%22")[1]).split("%20")[1];

$(document).ready(function(){
	$("#userNameJQ").append(firstName);
	$("#lastLoginTime").append(lastLoginDate+"\t"+lastLoginTime);
});



function getProductsfun(){
	alert("button clicked!!");
	
	jQuery.ajax({
	    type: "POST",
	    url: "http://localhost:8080/CloudServices/rest/users/getProducts",
	    data: "101",
	    contentType: "application/json; charset=utf-8",
	    dataType: "json",
	    success: function (data, status, jqXHR) {
	    	
	    	if(JSON.stringify(data["statusCode"])== 200 )
			{
	    		alert("Status code : "+ JSON.stringify(data["statusCode"])+"\n Status message: "+ JSON.stringify(data["statusMessage"]) );
	    		alert("data: \n"+ JSON.stringify(data["dataProducts"]));
	    		var jsonData = JSON.parse(JSON.stringify(data["dataProducts"]));
	    		//alert("Parse\n"+ jsonData);
	    	
	    		for (var i = 0; i < jsonData.length; i++) {
	    		    var counter = jsonData[i];
	    		    console.log(counter.productName);
	    		    alert("Product Name" + counter.productName+ "\t Quantity:"+ counter.quantity+"\t Product Price"+counter.productPrice)
	    	
	    		    newRow = "<tr>" +
	    	        "<td class='empid'>E333</td>" +
	    	        "<td class='fname'>Fujita</td>" +
	    	        "<td class='lname'>Makoto</td>" +
	    	        "<td class='email'>fujita@devcurry.com</td>" +
	    	        "<td class='age'>52</td>" +
	    	    "</tr>";
	    	    $('#someTable > tbody > tr:last').after(newRow);
	    		
	    		
	    		}
				
				}
			else
				{
				alert("Status Code: "+ JSON.stringify(data["statusCode"])+"\n Status Message:"+"Error in retreiving products");
				
				}
					    },

	    error: function (jqXHR, status) {            
	    	alert(jqXHR+" "+status);
	    }

	});

	function formToJSON() {
	    return JSON.stringify({
	    "firstName": $('#firstName').val(),
	    "lastName": $('#lastName').val(),
	    "email": $('#email').val(),
	    "passwd": $('#passwd').val()
	    });
	}

	
}

</script>

<!-- <script type="text/javascript">

function getProductsfun(){


</script>
 -->

<!--end slider -->
</head>
<body>
<!-- header_top --> 
<div class="top_bg">
<div class="container">
<div class="header_top">
	<!-- <div class="top_left">
		<h2><a href="#">25%off</a> use coupon code "NEW007" and get extra 25% off on orders above 50 dollars </h2>
	</div> -->
	<div class="top_right">
		
	
		<ul>
			<li><p id= "userNameJQ" class ="UserNameJQ">Hi, </p></li>|
			<li> <p id="lastLoginTime"> Your last login time was on :</p></li>|
			<li><a href="index.html">Sign Out</a></li>
		</ul>
	</div>
	<div class="clearfix"> </div>
</div>
</div>
</div>
<!-- header -->
<div class="header_bg">
<div class="container">
	<div class="header">
	<div class="logo">
					<button class="btn btn-primary" id="getProducts" onclick="getProductsfun()">PRODUCTS</button>
			
			<h3>Online Shopping Stores</h3>
			
			<p>CmpE 282 - Cloud Services</p>
		</div>
		<!-- start header_right -->
		<div class="header_right">
		
		<div class="search">
		    <form>
		    	<input type="text" value="" placeholder="search">
				<input type="submit" value="">
				
			</form>
			
		</div>
		
		<div class="clearfix"> </div>
		</div>
		<!-- start header menu -->
		<ul class="megamenu skyblue">
			<li><a class="color1" href="index1.html">Home</a></li>
			<li class="grid"><a class="color2" href="#">Electronics</a>
				<div class="megapanel">
					<div class="row">
						<div class="col1">
							<div class="h_nav">
								<h4>shop</h4>
								<ul>
									<li><a href="items.html">Laptops</a></li>
									<li><a href="items.html">Mobiles</a></li>
									<li><a href="items.html">cameras</a></li>
									
								</ul>	
							</div>							
						</div>
					
					</div>
					
    				</div>
				</li>
			<li class="active grid"><a class="color4" href="#">Fashion</a>
				<div class="megapanel">
					<div class="row">
						<div class="col1">
							<div class="h_nav">
								<h4>shop</h4>
								<ul>
									<li><a href="items.html">new arrivals</a></li>
									<li><a href="items.html">men</a></li>
									<li><a href="items.html">women</a></li>
									<li><a href="items.html">accessories</a></li>
									<li><a href="items.html">kids</a></li>
									<li><a href="items.html">brands</a></li>
								</ul>	
							</div>							
						</div>
				
					</div>
					<div class="row">
						<div class="col2"></div>
						<div class="col1"></div>
						<div class="col1"></div>
						<div class="col1"></div>
						<div class="col1"></div>
					</div>
    				</div>
				</li>				
	


				<li><a class="color10" href="contact.html">Contact</a>
					<div class="megapanel">
						<div class="row">
							<div class="col3">
								<div class="h_nav">
									<h4>contact us</h4>
								</div>
								<form class="contact">
									<label for="name">Name</label>
									<input id="name" type="text"/>
									<label for="email">E-mail</label>
									<input id="email" type="text"/>
									<label for="message">Message</label>
									<textarea rows="8" id="message"></textarea>
									<input type="submit" value="Send"/>
								</form>
							</div>
							<div class="col3">
							</div>
						</div>
					</div>
				</li>
		 </ul> 
	</div>
</div>
</div>
<!-- content -->
<div class="container">
<div class="main">
			
	<!-- start content -->
	<div class="content">
		<div class="content_text">
			<h3>Today's Trends</h3>
			
			<!-- <p>Online Shopping Stores</p> -->
		</div>
		<!-- grids_of_3 -->
		<div class="row grids">
			<div class="col-md-3 grid1">
			  <a href="details.html">
				<img src="assets/img/pic1.jpg" class="img-responsive" alt=""/>
				<div class="look">			
					<p>read more</p>
				</div></a>
			</div>
			<div class="col-md-3 grid1">
			  <a href="details.html">
				<img src="assets/img/pic2.jpg" class="img-responsive" alt=""/>
				<div class="look">			
					
					<p>read more</p>
				</div></a>
			</div>
			<div class="col-md-3 grid1">
			  <a href="details.html">
				<img src="assets/img/pic3.jpg" class="img-responsive" alt=""/>
				<div class="look">			
					
					<p>read more</p>
				</div></a>
			</div>
			<div class="col-md-3 grid1">
			  <a href="details.html">
				<img src="assets/img/pic4.jpg" class="img-responsive" alt=""/>
				<div class="look">			
					<h4>get scraves</h4>
					<p>read more</p>
				</div></a>
			</div>
		</div>
		<!-- end grids_of_3 -->
	</div>
	<!-- end content -->
</div>
</div>

<!-- footer -->
<div class="footer">
 <div class="container">
	<div class="copy">
		<p class="link">&copy; All rights reserved</p>
	</div>
 </div>
</div>
</body>
</html>
